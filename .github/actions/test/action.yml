name: "Test"
description: "Run correctness tests"
inputs:
  stripe:
    description: "Stripe to run, in the form INDEX/TOTAL"
    required: true
  github_ci:
    description: "A flag to tell whether we are in CI"
    required: false

runs:
  using: "composite"
  steps:
    - name: Install serve
      run: npm i serve
      shell: bash
    - name: Run tests
      run: node ${{ github.action_path }}/main.js
      shell: bash
      env:
        INPUT_STRIPE: ${{ inputs.stripe }}
